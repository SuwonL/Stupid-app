spring.application.name=fridge-menu-api
# Fly.io 등 클라우드: PORT 사용, 0.0.0.0 에 바인딩해야 프록시 연결됨
server.port=${PORT:8080}
server.address=0.0.0.0

# 로컬 전용 설정 (API 키 등). 파일은 .gitignore에 있으므로 저장소/배포에 포함되지 않음.
spring.config.import=optional:file:./application-local.properties

# 한글 깨짐 방지: HTTP 요청/응답 UTF-8
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force-request=true
server.servlet.encoding.force-response=true

# H2 (in-memory for local; same data per run)
spring.datasource.url=jdbc:h2:mem:fridgemenu
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always
# schema만 Spring이 실행. data.sql은 SqlDataLoader가 UTF-8로 실행 (한글 깨짐 방지)
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=

# 외부 API (선택) - 키는 환경변수 또는 application-local.properties에만 설정 (배포/저장소에 포함 금지)
# YouTube: 메뉴별 최근 1년·조회수 1위 영상. YouTube Data API v3 사용 설정 필요.
#   환경변수: APP_YOUTUBE_API_KEY  또는  application-local.properties: app.youtube.api-key=
app.youtube.api-key=
# Spoonacular: 재료 조합 실시간 검색 (무료 50포인트/일). 초과 시 자동 중단.
#   환경변수: APP_SPOONACULAR_API_KEY  또는  application-local.properties: app.spoonacular.api-key=
app.spoonacular.api-key=
# 시드: true면 1·2·3개 조합당 10개씩 DB에 적재 (수만 건, 기동 느림). false면 data.sql 10개만 사용.
app.recipe.seed.enabled=false

# CORS: 배포된 프론트 주소. 쉼표 구분 여러 개 가능. 비우면 로컬만 허용.
# 배포 시 환경변수: APP_CORS_ALLOWED_ORIGINS=https://xxx.vercel.app
app.cors.allowed-origins=
